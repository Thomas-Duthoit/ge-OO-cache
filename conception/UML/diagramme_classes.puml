@startuml

package "modele" #EEEEEE{

class Utilisateur{
  - pseudo : String 
  - mdp : String
  - admin : bool

  + int getId()
  + boolean isAdmin()
  + String getPseudo()

  # boolean ajouterAccesReseau()
  # boolean suppraccesReseau()
  # boolean ajouterReseauPossede()
  # boolean ajouterLogPossede()
}

class ReseauCache{
  - nom : String

  + int getId()
  + String getNom()
  + boolean ajouterAccesUtilisateur()
  + boolean supprAccesUtilisateur()
  + boolean setProprietaire()
  # boolean addCache()
}

class Cache{
  - numero : int
  - descriptionTextuelle : String
  - descriptionTechnique : String 
  - rubriqueLibre : String
  - type : TypeCache
  - statut : StatutCache

  + List<Log> getLogs()
  + String getDescriptionTextuelle()
  + String getDescriptionTechnique
  + String getInformationsGeolocalisation()
  + String getRubriqueLibre()
  + int getNumero()
  + boolean setStatutCache()
  + boolean addTypeCache() 
  + boolean setReseau() 
  + boolean ajouterLog() 

}

class TypeCache{
  - texte : String

  + boolean addCacheToList()
  + List<Cache> getCaches()
}

class StatutCache{
  - texte : String

  + boolean addCacheToList()
  + List<Cache> getCaches()
}


class Log{
  - id : int
  - commentaire : String
  - trouver : bool
  - note : int
  - date : DateTime
  
  + int getId()
  + boolean isTrouver()
  + Date getDate()
  + int getNote()
  + String getCommentaire()
  + Cache getEnregistrer()
  + boolean setProprietaire()
  + boolean setCache()

}

Cache::numero "0..*" -- "1" TypeCache::id : caractérisé par
Cache::numero "0..*" -- "1" StatutCache::id : état

Utilisateur::reseaux "0..*" -- "0..*" ReseauCache : accède
Utilisateur::id "1" -- "0..*" ReseauCache::idProprietaire : possède
Utilisateur::id "1" -- "0..*" Log::id : possède

ReseauCache::listCaches "1" -- "0..*" Cache : appartient

Log "0..*" -- "1" Cache : enregister
}


package "requete" #EEEEEE{
class RequeteGeOOCache{
  - emFactory : EntityManagerFactory

  + EntityManager getEm()
  + int autoriserConnexionApp()
  + boolean creerUtilisateur()
  + List<Utilisateur> getListeUtilisateurs()
  + List<Utilisateur> getListeUtilisateursFromReseau()
  + Long getNbReseauUtilisateur()
  + List<ReseauCache> getReseauxUtilisateur() 
  + boolean creerReseau()
  + ReseauCache getReseauAvecProprietaireEtNom()
  + boolean checkAssociationReseauUtilisateurExist()
  + boolean ajouterAccesReseau()
  + boolean deleteAccesReseau()
  + List<ReseauCache> getReseauxAvecAccessUtilisateur()
  + Utilisateur getStatProprietaire()
  + int getStatNbCaches()
  + int getStatNbLogs()
  + int getStatNbTrouve()
  + int getStatNbPasTrouve()
  + float getStatPourcentageTrouve()
  + List<Log> getLogs()
  + List<Cache> getCachesByReseauCache()
  + Cache getDataCachesById()
  + boolean updateStatutCache()
  + boolean creerCache()
  + List<StatutCache> getStatutCache()
  + StatutCache getStatutCacheById()
  + List<TypeCache> getTypeCache()
  + boolean creerTypeCache()
}

}

package "testsUnitaire" #EEEEEE{

  class TestUnitaireCache {
    + void main()
  }
  class TestUnitaireCacheLog {
    + void main()
  }
  class TestUnitaireReseau2Caches {
    + void main()
  }
  class TestUnitaireReseauCache {
    + void main()
  }
  class TestUnitaireRequetesThomas {
    + void main()
  }
  class TestUnitaireStatut {
    + void main()
  }
  class TestUnitaireType {
    + void main()
  }
  class TestUnitaireUtilisateur {
    + void main()
  }
  class TestUnitaireUtilisateurLog {
    + void main()
  }
  class TestUnitaireUtilisateurReseauCache {
    + void main()
  }
  class TestUnitaireUtilisateurReseauCachePossede {
    + void main()
  }

}

package "vue" #EEEEEE{

package "dropdown" #EEEEEE{
class ComboBoxGeneral{
  - cl : CardLayout
  - mainPanel : JPanel
  - requeteGeOOCache : RequeteGeOOCache
  - user : Utilisateur
  - selectionDropdown : selectionDropdown
  - modifVue : int
  - comboBoxAction : JComboBox<String>
  - comboBoxReseauCache : JComboBox<Object>
  - comboBoxCache : JComboBox<Object>
  - comboBoxUtilisateur : JComboBox<Object>
  - comboBoxLog : JComboBox<Object>

  + JComboBox<String> getComboBoxAction()
  + JComboBox<Object> getComboBoxUtilisateur()
  + JComboBox<Object> getComboBoxReseauCache()
  + JComboBox<Object> getComboBoxLog()
  + DefaultComboBoxModel<Object> getDefaultComboBoxModelCache()
  + void refresh()
  + void refreshDataView()
  + void refreshComboBoxUtilisateur()
  + void refreshComboBoxReseau()
  + void refreshComboBoxAction()
  + void refreshComboBoxLog()
  + void refreshComboBoxCache()
}
}

package "page" #EEEEEE{
class Accueil{
  - fenetrePrincipal : FenetrePrincipal
  - sel : SelectionDropdown
  - cl : CardLayout
  - mainPanel : JPanel
  - cb : ComboBoxGeneral

  + JPanel createButtonDeconnexion()
  + JPanel createButtonNav()
  + void refreshDataView()
}

class AssociateUser{
  - utilisateurConnecte : Utilisateur
  - requeteGeOOCache : RequeteGeOOCache
  - comboBoxUtilisateur : JComboBox<Utilisateur>
  - comboBoxReseau : JComboBox<Object>
  - selectionDropdown : SelectionDropdown 
  - comboBoxGeneral : ComboBoxGeneral
  - reussite : JLabel
  - echec : JLabel
  - utilisateur : Utilisateur

  + DefaultComboBoxModel<Object> getDefaultComboBoxModelReseau()
  + JComboBox<Utilisateur> getComboBoxUtilisateur()
  + JPanel createTextTop() 
  + JPanel createMessagePanel()
  + JPanel createButtonValidate()
  + JPanel createCenterPanel()
  + void refreshData()
}

class CreateCache {
  - req : RequeteGeOOCache
  - descriptionTextuelle : JTextField
  - descriptionTechnique : JTextField
  - rubriqueLibre : JTextField
  - typeCacheComnbo : JComboBox<TypeCache>
  - statutCacheComnbo : JComboBox<StatutCache>
  - localisation : JTextField
  - selectionDropdown : SelectionDropdown

  + void refreshData()
}

class CreateReseau{
  - requeteGeOOCache : RequeteGeOOCache
  - inputNameReseau : JTextField
  - utilisateur : Utilisateur 

  + JPanel creerChamp() 
}

class CreateType {
  - requeteGeOOCache : RequeteGeOOCache
  - inputNameType : JTextField

  + JPanel creerChamp() 
}

class CreateUser {
  - req : RequeteGeOOCache
  - inputPseudo : JTextField
  - inputMdp : JTextField

  + JPanel creerChamp() 
}

class Footer{
  - fenetrePrincipal : FenetrePrincipal
  - cl : CardLayout
  - mainPanel : JPanel
  - requeteGeOOCache : RequeteGeOOCache
  - selectionDropdown : SelectionDropdown
  - cb : ComboBoxGeneral

  + void refreshDataView()
}

class Login{
  - fenetrePrincipal : FenetrePrincipal
  - username : JTextField 
  - password : JPasswordField
  - errorLabel : JLabel

  + JLabel createLogo()
  + JTextField createTextField()
  - JPasswordField createPasswordField() 
  - JButton createButton()
}

class ManageUser{
  - selectionDropdown : SelectionDropdown 
  - requeteGeOOCache : RequeteGeOOCache
  - listUtilisateurs : List<Utilisateur>
  - cardLayout : CardLayout
  - mainPanel : JPanel
  
  + JPanel createPanelTop()
  + JPanel createButtonBack()
  + DefaultListModel<Utilisateur> createDefaultModelUtilisateur()
  + JPanel createPanelRenderer()
  + void supprimerUtilisateur()
  + void refreshData()
}

class ShowCaches{
  - selectionDropdown : SelectionDropdown
  - requeteGeOOCache : RequeteGeOOCache
  - nomCache : JLabel
  - descriptionTextuelle : JTextArea
  - descriptionTechnique : JTextArea
  - rubriqueLibre : JTextArea
  - typeLabel : JLabel
  - statutLabel : JLabel
  - locLabel : JLabel
  
  + void refreshData()
}

class ShowListCaches{
  - selectionDropdown : SelectionDropdown 
  - requeteGeOOCache : RequeteGeOOCache
  - cl : CardLayout
  - mainPanel : JPanel
  - comboBoxGeneral : ComboBoxGeneral
  - listeCaches : JList<Cache>
  
  + DefaultListModel<Cache> createModelJListCache()
  + void refreshData()
}

class ShowLoggingDetails{
  - selectionDropdown : SelectionDropdown 
  - cardLayout : CardLayout
  - panelFenetre : JPanel
  
  + JPanel createPanel()
  + JLabel createLabel()
  + JLabel createLabelTrouve()
  + JPanel createButtonBack()
  + void refreshData()
}

class ShowLoggings{
  - requeteGeOOCache : RequeteGeOOCache
  - utilisateur : Utilisateur
  - listeLogs : JList<Log> 
  - comboBoxFiltreReseau : JComboBox<Object> 
  - comboBoxFiltreCache : JComboBox<Object> 
  - cl : CardLayout
  - mainPanel : JPanel
  - comboBoxGeneral : ComboBoxGeneral
 
  + DefaultListModel<Log> createModelJListLog()
  + DefaultComboBoxModel<Object> createModelJComboBoxReseau()
  + DefaultComboBoxModel<Object> createModelJComboBoxCache()
  + JPanel createFilterPanel()
  + void refreshData()
  + void refreshDataView()
  + JPanel createAffichageRenderer()
}





class ShowReseauMere {
  # requeteGeOOCache : requeteGeOOCache
  # utilisateur : Utilisateur 
  # mainPanel : JPanel
  # cardLayout : CardLayout
  # selectionDropdown : SelectionDropdown 
  # listReseaux : JList<ReseauCache>
  # comboBoxGeneral : ComboBoxGeneral

  + JPanel getMainPanel()
  + DefaultListModel<ReseauCache> createDefaultModelListReseauCache()
  + JPanel createPanelRenderer()
  + void actionClick()
  + void refreshDataView()
  + void refreshData()
}


class ShowReseauForCachePart {
  + JPanel createPanelRenderer()
  + void actionClick()
}

class ShowReseauForCreation {
  + JPanel createPanelRenderer()
  + void actionClick()
}

class ShowReseauStatistique {
  + JPanel createPanelRenderer()
  + void actionClick()
}

class ShowReseauUtilisateur {
  + JPanel createPanelRenderer()
  + void actionClick()
}

ShowReseauMere <|-- ShowReseauForCachePart 
ShowReseauMere <|-- ShowReseauForCreation
ShowReseauMere <|-- ShowReseauStatistique 
ShowReseauMere <|-- ShowReseauUtilisateur

class ShowStatistic {
  - requeteGeOOCache : RequeteGeOOCache
  - selectionDropdown : SelectionDropdown
  - reseauCache : ReseauCache
  - titre : JLabel
  - proprietaire : JLabel
  - nbCache : JLabel
  - nbUtilisateurs : JLabel
  - nbLogs : JLabel
  - nbTrouve : JLabel
  - nbNonTrouve : JLabel
  - pourcentage : JLabel
  - frame : JPanel
 
  + void refreshData()
}

class ShowUtilisateurs< {
  - requeteGeOOCache : RequeteGeOOCache
  - utilisateur : Utilisateur
  - utilisateurs : List<Utilisateur
  - cl : CardLayout
  - mainPanel : JPanel
  - comboBoxGeneral : ComboBoxGeneral
 
  + DefaultListModel<Utilisateur> createModelJListUtilisateur()
  + void refreshData()
  + void refreshDataView()
  + JPanel createAffichageRenderer()
}


}

class FenetrePrincipal{
  - cl : CardLayout 
  - mainPanel : JPanel 
  - requeteGeOOCache : RequeteGeOOCache
  - user : Utilisateur 
  - selectionDropdown : SelectionDropdown 
  - comboBoxGeneral : ComboBoxGeneral 
  - footer : Footer

  + void loginValider()
  + void addAllView()
  + void deconnexionMainPanel()
  + void refreshMainPanel()
  + void refreshDataView()
  + RequeteGeOOCache getRequeteGeOOCache()
  + void main()
}

interface Refreshable{
  + void refreshData()
}

class SelectionDropdown{
  - elementsSelec : Map<String, Object>
  - fenetrePrincipal : FenetrePrincipal

  + void addElementSelect()
  + void supprElementSelect()
  + void supprAllElementSelect()
  + Map<String, Object> getAllElementsSelec()
  + Object getElementSelect()
}
}

package "data" #EEEEEE {
class CreerDataApplication{
  + void main()
}

}
@enduml
